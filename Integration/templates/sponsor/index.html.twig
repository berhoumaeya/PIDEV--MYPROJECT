{% extends 'base-back.html.twig' %}

{% block title %}Sponsor 
{% endblock %}

{% block body %}

	<section class="section">
		<div class="row">
			<div class="col-lg-12">

				<div class="card">
					<div class="card-body">
						<h5 class="card-title">Sponsors</h5>
						<input type="text" id="search" class="form-control" placeholder="Search">

						<table class="table">
							<thead>
								<tr>
									<th>Id_sponsor</th>
									<th>Intitule</th>
									<th>Duree_contrat</th>
									<th>Date_debc</th>
									<th>Date_finc</th>
									<th>actions</th>
								</tr>
							</thead>
							<tbody>
								{% for sponsor in sponsors %}
									<tr>
										<td>{{ sponsor.getId_sponsor }}</td>
										<td>{{ sponsor.getIntitule }}</td>
										<td>{{ sponsor.getDureeContrat }}</td>
										<td>{{ sponsor.getDateDebc ? sponsor.dateDebc|date('Y-m-d') : '' }}</td>
										<td>{{ sponsor.getDateFinc ? sponsor.dateFinc|date('Y-m-d') : '' }}</td>
										<td>
											<a href="{{ path('app_sponsor_show', {'id_sponsor': sponsor.id_sponsor}) }}" class="btn btn-primary btn rounded text-light">Afficher</a>
											<a href="{{ path('app_sponsor_edit', {'id_sponsor':sponsor.id_sponsor}) }}" class="btn btn-success btn rounded text-light">Modifier</a>
										</td>
									</tr>
								{% else %}
									<tr>
										<td colspan="6">no records found</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>

						<div class="align-center">
							{{ knp_pagination_render(pagination) }}</div>

						<a href="{{ path('app_sponsor_new') }}">Ajouter un sponsor</a>


						<a href="{{ path('app_pdf') }}" class="btn btn-primary btn rounded text-light">PDF</a>


						<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
						<script>
							$(document).ready(function () {
$("#search").on("keyup", function () {
var value = $(this).val().toLowerCase();
$("table tr").filter(function () {
$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
});
});
});
						</script>
					</div>
				</div>
			</div>
		</section>
	{% endblock %}
